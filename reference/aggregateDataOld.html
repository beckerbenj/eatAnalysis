<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Aggregate variables to items and/or scales. — aggregateDataOld • eatAnalysis</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Aggregate variables to items and/or scales. — aggregateDataOld"><meta name="description" content="This is the old version of the aggregateData function from the eatPrep
package. The function is currently deprecated and was only kept in the package to keep older scripts
executable. For the same reason, inappropriate argument names of aggregateDataOld have not been
modified. The function might be beneficial if aggregation information from the IQB database is not available."><meta property="og:description" content="This is the old version of the aggregateData function from the eatPrep
package. The function is currently deprecated and was only kept in the package to keep older scripts
executable. For the same reason, inappropriate argument names of aggregateDataOld have not been
modified. The function might be beneficial if aggregation information from the IQB database is not available."><meta property="og:image" content="https://beckerbenj.github.io/eatAnalysis/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">eatAnalysis</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Aggregate variables to items and/or scales.</h1>

      <div class="d-none name"><code>aggregateDataOld.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is the old version of the <code>aggregateData</code> function from the <code>eatPrep</code>
package. The function is currently deprecated and was only kept in the package to keep older scripts
executable. For the same reason, inappropriate argument names of <code>aggregateDataOld</code> have not been
modified. The function might be beneficial if aggregation information from the IQB database is not available.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">aggregateDataOld</span><span class="op">(</span></span>
<span>  <span class="va">all.daten</span>,</span>
<span>  <span class="va">spalten</span>,</span>
<span>  unexpected.pattern.as.na <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  printCases <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  printPattern <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  inputList <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-all-daten">all.daten<a class="anchor" aria-label="anchor" href="#arg-all-daten"></a></dt>
<dd><p>A data frame in the wide format with at least two (dichotomous) variable columns.</p></dd>


<dt id="arg-spalten">spalten<a class="anchor" aria-label="anchor" href="#arg-spalten"></a></dt>
<dd><p>Column names or numbers with variables to aggregate.</p></dd>


<dt id="arg-unexpected-pattern-as-na">unexpected.pattern.as.na<a class="anchor" aria-label="anchor" href="#arg-unexpected-pattern-as-na"></a></dt>
<dd><p>Logical: <code>TRUE</code>, if non-valid patterns should be aggregated to <code>NA</code>.</p></dd>


<dt id="arg-printcases">printCases<a class="anchor" aria-label="anchor" href="#arg-printcases"></a></dt>
<dd><p>Logical: Specifies whether exhaustive aggregation information should be printed on console.</p></dd>


<dt id="arg-printpattern">printPattern<a class="anchor" aria-label="anchor" href="#arg-printpattern"></a></dt>
<dd><p>Logical: Print the unexpected patterns to console?</p></dd>


<dt id="arg-inputlist">inputList<a class="anchor" aria-label="anchor" href="#arg-inputlist"></a></dt>
<dd><p>Optional: Input list to differentiate between variables (sub items) and items. If <code>NULL</code>,
all variables in the data frame which share the same ID except for the last sign are considered
to belong to the same item.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list. First element is a data frame with sum scores. Second element is a data frame
with aggregated scores. Third element is a data frame with information how many variables
are summarized for each item.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function use a rather simple aggregation rule: all variables which share a common “stem”
are considered to belong together. The “stem” is everything except the last sign. By convention,
the last sign may be a letter in ascending order, for example <code>"I1a", "I1b", "I1c"</code>. However,
<code>"I12", "I1_", "I1j"</code> is also possible although less convenient. The item <code>"I1"</code> consists
of three variables and is considered to be correct if all variables are correct. See examples for
further details. Note: if <code>inputList</code> is specified, aggregation rules are executed as specified
in the ZKD input list.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">### create artificial data</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"P"</span>, <span class="fl">11</span><span class="op">:</span><span class="fl">50</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span>data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span>x<span class="op">=</span><span class="fl">0</span><span class="op">:</span><span class="fl">1</span>, size <span class="op">=</span> <span class="fl">400</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  nrow<span class="op">=</span><span class="fl">40</span>, ncol <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">### aggregate Item 0+1+2 and 4+5 and 8+9: define sequential letter</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"I1a"</span>, <span class="st">"I1b"</span>, <span class="st">"I1c"</span>, <span class="st">"I2a"</span>, <span class="st">"I3a"</span>, <span class="st">"I3b"</span>,</span></span>
<span class="r-in"><span>                       <span class="st">"I4a"</span>, <span class="st">"I5a"</span>, <span class="st">"I6a"</span>, <span class="st">"I6b"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">agg</span> <span class="op">&lt;-</span> <span class="fu">aggregateDataOld</span><span class="op">(</span><span class="va">dat</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Aggregate 10 variable(s) to 6 item(s).</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Benjamin Becker, Sebastian Weirich.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

